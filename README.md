# wyuIoT
基于esp8266单片机和sg90舵机的小爱同学智能灯的实现代码，适用于五邑大学智能宿舍，自动开关灯自动开门  



已添加详细注释以便于同学们根据实际情况修改调试
## 宿舍自动开门物料清单（简易）
![image](https://github.com/MYHealer/wyuIoT/assets/141480264/4a1f4b83-266a-4931-90eb-25fff0989f52)
## 程序文件  （2025年9月8日更新上传）
new_open_door.ino——重构宿舍开门代码（新版代码，替换平台为巴法云，可以接入小爱同学和米家，优先选择这个）  
巴法云接入小爱教程https://bemfa.blog.csdn.net/article/details/120057589

wyusushedoor.ino——宿舍自动开门（旧版代码，平台为点灯科技，无法接入小爱）  
wyususheled.ino——宿舍自动开灯 （旧版代码，平台为点灯科技，无法接入小爱）  

## 更新日志  
25年9月(新)  
!!!由于米家3C政策的落实，点灯科技于25年7月1日关闭对小爱的支持，为此作者只能重构代码，选择了依旧能接入小爱和米家平台的巴法云平台。请下载或复制new_open_door.ino使用!!!  

25年3月(旧)  
1.修复了小爱同学无法正常回调led/door的开关状态的bug  
2.led增加了“开关按钮功能”，可以在点灯app单键开关灯  
wyusushedoor1.1版本新增了时间围栏功能，只有在7点至24点才能响应开门指令。如不需要定时功能，请使用原版文件
## 补充说明
1.开发板5v供电，属于小功率电器且不含电池，**符合宿舍管理条例**  
2.宿舍自动开关灯的物料与自动开门一致（不用买铁线/铜线）  
3.电源请使用usb插线板/充电器/充电宝，自备热熔胶枪以固定舵机
## 相关链接分享
校园网WiFi共享可参考https://github.com/6DDUU6/ESurfingDialer-onekey

使用小爱同学唤醒电脑可参考项目https://github.com/tty228/udp_turn_off
